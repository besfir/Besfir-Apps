import{u as bt,a as Ie,_ as Ce,b as ht}from"./B0QHDCdG.js";import{_ as De,a as gt}from"./BQP8Ia49.js";import{k as g,x as L,J as yt,K as te,L as Ne,M as Ot,N as z,O as de,P as Qe,g as W,Q,R as Ye,S as V,T as U,U as Je,V as Pe,W as Xe,X as ae,Y as ce,Z as ve,$ as Ze,a0 as et,a1 as tt,a2 as ne,a3 as Re,F as re,a4 as se,a5 as lt,a6 as pe,a7 as nt,a8 as ze,a9 as ot,aa as G,ab as St,ac as at,ad as P,ae as je,af as qe,ag as xt,ah as It,ai as Ct,_ as Rt,aj as it,ak as Mt,al as ue,am as Vt,A as ye,an as ut,i as Ue,j as Ee,ao as wt,ap as Tt,aq as Et,ar as $t,B as be,as as kt,at as At,au as Dt,av as Pt,aw as zt,o as D,q as J,w as q,c as K,z as _,y as le,ax as he,s as oe,a as N,v as $e,b as k,t as H,ay as Ft,C as xe,az as Lt,d as Z,aA as Bt,aB as Fe,aC as Le,D as Me,E as _t,u as Nt}from"./BYYNLtSP.js";import"./DGelk_Kz.js";function ge(e,u,l){let o=l.initialDeps??[],t;return()=>{var i,n,a,p;let m;l.key&&((i=l.debug)!=null&&i.call(l))&&(m=Date.now());const r=e();if(!(r.length!==o.length||r.some((M,b)=>o[b]!==M)))return t;o=r;let f;if(l.key&&((n=l.debug)!=null&&n.call(l))&&(f=Date.now()),t=u(...r),l.key&&((a=l.debug)!=null&&a.call(l))){const M=Math.round((Date.now()-m)*100)/100,b=Math.round((Date.now()-f)*100)/100,C=b/16,R=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%c⏱ ${R(b,5)} /${R(M,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*C,120))}deg 100% 31%);`,l==null?void 0:l.key)}return(p=l==null?void 0:l.onChange)==null||p.call(l,t),t}}function ke(e,u){if(e===void 0)throw new Error("Unexpected undefined");return e}const jt=(e,u)=>Math.abs(e-u)<1,qt=(e,u)=>{let l;return function(...o){clearTimeout(l),l=setTimeout(()=>e.apply(this,o),u)}},Ut=e=>e,Ht=e=>{const u=Math.max(e.startIndex-e.overscan,0),l=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let t=u;t<=l;t++)o.push(t);return o},Kt=(e,u)=>{const l=e.scrollElement;if(!l)return;const o=i=>{const{width:n,height:a}=i;u({width:Math.round(n),height:Math.round(a)})};if(o(l.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const t=new ResizeObserver(i=>{const n=i[0];if(n!=null&&n.borderBoxSize){const a=n.borderBoxSize[0];if(a){o({width:a.inlineSize,height:a.blockSize});return}}o(l.getBoundingClientRect())});return t.observe(l,{box:"border-box"}),()=>{t.unobserve(l)}},He={passive:!0},Wt=typeof window>"u"?!0:"onscrollend"in window,Gt=(e,u)=>{const l=e.scrollElement;if(!l)return;let o=0;const t=Wt?()=>{}:qt(()=>{u(o,!1)},e.options.isScrollingResetDelay),i=p=>()=>{o=l[e.options.horizontal?"scrollLeft":"scrollTop"],t(),u(o,p)},n=i(!0),a=i(!1);return a(),l.addEventListener("scroll",n,He),l.addEventListener("scrollend",a,He),()=>{l.removeEventListener("scroll",n),l.removeEventListener("scrollend",a)}},Qt=(e,u,l)=>{if(u!=null&&u.borderBoxSize){const o=u.borderBoxSize[0];if(o)return Math.round(o[l.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[l.options.horizontal?"width":"height"])},Yt=(e,{adjustments:u=0,behavior:l},o)=>{var t,i;const n=e+u;(i=(t=o.scrollElement)==null?void 0:t.scrollTo)==null||i.call(t,{[o.options.horizontal?"left":"top"]:n,behavior:l})};class Jt{constructor(u){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let l=null;const o=()=>l||(typeof ResizeObserver<"u"?l=new ResizeObserver(t=>{t.forEach(i=>{this._measureElement(i.target,i)})}):null);return{disconnect:()=>{var t;return(t=o())==null?void 0:t.disconnect()},observe:t=>{var i;return(i=o())==null?void 0:i.observe(t,{box:"border-box"})},unobserve:t=>{var i;return(i=o())==null?void 0:i.unobserve(t)}}})(),this.range=null,this.setOptions=l=>{Object.entries(l).forEach(([o,t])=>{typeof t>"u"&&delete l[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ut,rangeExtractor:Ht,onChange:()=>{},measureElement:Qt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...l}},this.notify=(l,o)=>{var t,i;const{startIndex:n,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},p=this.calculateRange();(l||n!==(p==null?void 0:p.startIndex)||a!==(p==null?void 0:p.endIndex))&&((i=(t=this.options).onChange)==null||i.call(t,this,o))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(l=>l()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const l=this.options.getScrollElement();this.scrollElement!==l&&(this.cleanup(),this.scrollElement=l,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(o,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.scrollOffset<o?"forward":"backward":null,this.scrollOffset=o;const i=this.isScrolling;this.isScrolling=t,this.notify(i!==t,t)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=ge(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(l,o,t,i)=>(this.pendingMeasuredCacheIndexes=[],{count:l,paddingStart:o,scrollMargin:t,getItemKey:i}),{key:!1}),this.getFurthestMeasurement=(l,o)=>{const t=new Map,i=new Map;for(let n=o-1;n>=0;n--){const a=l[n];if(t.has(a.lane))continue;const p=i.get(a.lane);if(p==null||a.end>p.end?i.set(a.lane,a):a.end<p.end&&t.set(a.lane,!0),t.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((n,a)=>n.end===a.end?n.index-a.index:n.end-a.end)[0]:void 0},this.getMeasurements=ge(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:l,paddingStart:o,scrollMargin:t,getItemKey:i},n)=>{const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const p=this.measurementsCache.slice(0,a);for(let m=a;m<l;m++){const r=i(m),d=this.options.lanes===1?p[m-1]:this.getFurthestMeasurement(p,m),f=d?d.end+this.options.gap:o+t,M=n.get(r),b=typeof M=="number"?M:this.options.estimateSize(m),C=f+b,R=d?d.lane:m%this.options.lanes;p[m]={index:m,start:f,size:b,end:C,key:r,lane:R}}return this.measurementsCache=p,p},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ge(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(l,o,t)=>this.range=l.length>0&&o>0?Xt({measurements:l,outerSize:o,scrollOffset:t}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ge(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(l,o,t,i)=>o===null?[]:l({startIndex:o.startIndex,endIndex:o.endIndex,overscan:t,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=l=>{const o=this.options.indexAttribute,t=l.getAttribute(o);return t?parseInt(t,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(l,o)=>{const t=this.measurementsCache[this.indexFromElement(l)];if(!t||!l.isConnected){this.measureElementCache.forEach((a,p)=>{a===l&&(this.observer.unobserve(l),this.measureElementCache.delete(p))});return}const i=this.measureElementCache.get(t.key);i!==l&&(i&&this.observer.unobserve(i),this.observer.observe(l),this.measureElementCache.set(t.key,l));const n=this.options.measureElement(l,o,this);this.resizeItem(t,n)},this.resizeItem=(l,o)=>{const t=this.itemSizeCache.get(l.key)??l.size,i=o-t;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,i,this):l.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,o)),this.notify(!0,!1))},this.measureElement=l=>{l&&this._measureElement(l,void 0)},this.getVirtualItems=ge(()=>[this.getIndexes(),this.getMeasurements()],(l,o)=>{const t=[];for(let i=0,n=l.length;i<n;i++){const a=l[i],p=o[a];t.push(p)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=l=>{const o=this.getMeasurements();return ke(o[st(0,o.length-1,t=>ke(o[t]).start,l)])},this.getOffsetForAlignment=(l,o)=>{const t=this.getSize();o==="auto"&&(l<=this.scrollOffset?o="start":l>=this.scrollOffset+t?o="end":o="start"),o==="start"?l=l:o==="end"?l=l-t:o==="center"&&(l=l-t/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-this.getSize();return Math.max(Math.min(a,l),0)},this.getOffsetForIndex=(l,o="auto")=>{l=Math.max(0,Math.min(l,this.options.count-1));const t=ke(this.getMeasurements()[l]);if(o==="auto")if(t.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)o="end";else if(t.start<=this.scrollOffset+this.options.scrollPaddingStart)o="start";else return[this.scrollOffset,o];const i=o==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,o),o]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(l,{align:o="start",behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(l,o),{adjustments:void 0,behavior:t})},this.scrollToIndex=(l,{align:o="auto",behavior:t}={})=>{l=Math.max(0,Math.min(l,this.options.count-1)),this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[i,n]=this.getOffsetForIndex(l,o);this._scrollToOffset(i,{adjustments:void 0,behavior:t}),t!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(l))){const[p]=this.getOffsetForIndex(l,n);jt(p,this.scrollOffset)||this.scrollToIndex(l,{align:n,behavior:t})}else this.scrollToIndex(l,{align:n,behavior:t})}))},this.scrollBy=(l,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+l,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var l;const o=this.getMeasurements();let t;return o.length===0?t=this.options.paddingStart:t=this.options.lanes===1?((l=o[o.length-1])==null?void 0:l.end)??0:Math.max(...o.slice(-this.options.lanes).map(i=>i.end)),t-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(l,{adjustments:o,behavior:t})=>{this.options.scrollToFn(l,{behavior:t,adjustments:o},this)},this.measure=()=>{var l,o;this.itemSizeCache=new Map,(o=(l=this.options).onChange)==null||o.call(l,this,!1)},this.setOptions(u),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(l=>{this.itemSizeCache.set(l.key,l.size)}),this.notify(!1,!1)}}const st=(e,u,l,o)=>{for(;e<=u;){const t=(e+u)/2|0,i=l(t);if(i<o)e=t+1;else if(i>o)u=t-1;else return t}return e>0?e-1:0};function Xt({measurements:e,outerSize:u,scrollOffset:l}){const o=e.length-1,i=st(0,o,a=>e[a].start,l);let n=i;for(;n<o&&e[n].end<l+u;)n++;return{startIndex:i,endIndex:n}}function Zt(e){const u=new Jt(L(e)),l=yt(u),o=u._didMount();return te(()=>L(e).getScrollElement(),t=>{t&&u._willUpdate()},{immediate:!0}),te(()=>L(e),t=>{u.setOptions({...t,onChange:(i,n)=>{var a;Ne(l),(a=t.onChange)==null||a.call(t,i,n)}}),u._willUpdate(),Ne(l)},{immediate:!0}),Ot(o),l}function el(e){return Zt(g(()=>({observeElementRect:Kt,observeElementOffset:Gt,scrollToFn:Yt,...L(e)})))}function rt(e,u,l){let o=z(l==null?void 0:l.value),t=g(()=>e.value!==void 0);return[g(()=>t.value?e.value:o.value),function(i){return t.value||(o.value=i),u==null?void 0:u(i)}]}function Ke(e){return[e.screenX,e.screenY]}function dt(){let e=z([-1,-1]);return{wasMoved(u){let l=Ke(u);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(u){e.value=Ke(u)}}}function tl({container:e,accept:u,walk:l,enabled:o}){de(()=>{let t=e.value;if(!t||o!==void 0&&!o.value)return;let i=Qe(e);if(!i)return;let n=Object.assign(p=>u(p),{acceptNode:u}),a=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,n,!1);for(;a.nextNode();)l(a.currentNode)})}function ll(e){throw new Error("Unexpected object: "+e)}var A=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(A||{});function Ae(e,u){let l=u.resolveItems();if(l.length<=0)return null;let o=u.resolveActiveIndex(),t=o??-1;switch(e.focus){case 0:{for(let i=0;i<l.length;++i)if(!u.resolveDisabled(l[i],i,l))return i;return o}case 1:{t===-1&&(t=l.length);for(let i=t-1;i>=0;--i)if(!u.resolveDisabled(l[i],i,l))return i;return o}case 2:{for(let i=t+1;i<l.length;++i)if(!u.resolveDisabled(l[i],i,l))return i;return o}case 3:{for(let i=l.length-1;i>=0;--i)if(!u.resolveDisabled(l[i],i,l))return i;return o}case 4:{for(let i=0;i<l.length;++i)if(u.resolveId(l[i],i,l)===e.id)return i;return o}case 5:return null;default:ll(e)}}function Be(e={},u=null,l=[]){for(let[o,t]of Object.entries(e))vt(l,ct(u,o),t);return l}function ct(e,u){return e?e+"["+u+"]":u}function vt(e,u,l){if(Array.isArray(l))for(let[o,t]of l.entries())vt(e,ct(u,o.toString()),t);else l instanceof Date?e.push([u,l.toISOString()]):typeof l=="boolean"?e.push([u,l?"1":"0"]):typeof l=="string"?e.push([u,l]):typeof l=="number"?e.push([u,`${l}`]):l==null?e.push([u,""]):Be(l,u,e)}var nl={};function ol(e,u){return e===u}var al=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(al||{}),il=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(il||{}),ul=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ul||{});let pt=Symbol("ComboboxContext");function fe(e){let u=ze(pt,null);if(u===null){let l=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,fe),l}return u}let ft=Symbol("VirtualContext"),sl=W({name:"VirtualProvider",setup(e,{slots:u}){let l=fe("VirtualProvider"),o=g(()=>{let a=V(l.optionsRef);if(!a)return{start:0,end:0};let p=window.getComputedStyle(a);return{start:parseFloat(p.paddingBlockStart||p.paddingTop),end:parseFloat(p.paddingBlockEnd||p.paddingBottom)}}),t=el(g(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:l.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return V(l.optionsRef)},overscan:12}))),i=g(()=>{var a;return(a=l.virtual.value)==null?void 0:a.options}),n=z(0);return te([i],()=>{n.value+=1}),Pe(ft,l.virtual.value?t:null),()=>[ve("div",{style:{position:"relative",width:"100%",height:`${t.value.getTotalSize()}px`},ref:a=>{if(a){if(typeof process<"u"&&nl.JEST_WORKER_ID!==void 0||l.activationTrigger.value===0)return;l.activeOptionIndex.value!==null&&l.virtual.value.options.length>l.activeOptionIndex.value&&t.value.scrollToIndex(l.activeOptionIndex.value)}}},t.value.getVirtualItems().map(a=>St(u.default({option:l.virtual.value.options[a.index],open:l.comboboxState.value===0})[0],{key:`${n.value}-${a.index}`,"data-index":a.index,"aria-setsize":l.virtual.value.options.length,"aria-posinset":a.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${a.start}px)`,overflowAnchor:"none"}})))]}}),rl=W({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:u,attrs:l,emit:o}){let t=z(1),i=z(null),n=z(null),a=z(null),p=z(null),m=z({static:!1,hold:!1}),r=z([]),d=z(null),f=z(2),M=z(!1);function b(h=x=>x){let x=d.value!==null?r.value[d.value]:null,T=h(r.value.slice()),E=T.length>0&&T[0].dataRef.order.value!==null?T.sort((B,Y)=>B.dataRef.order.value-Y.dataRef.order.value):at(T,B=>V(B.dataRef.domRef)),F=x?E.indexOf(x):null;return F===-1&&(F=null),{options:E,activeOptionIndex:F}}let C=g(()=>e.multiple?1:0),R=g(()=>e.nullable),[y,w]=rt(g(()=>e.modelValue),h=>o("update:modelValue",h),g(()=>e.defaultValue)),v=g(()=>y.value===void 0?Q(C.value,{1:[],0:void 0}):y.value),s=null,O=null;function S(h){return Q(C.value,{0(){return w==null?void 0:w(h)},1:()=>{let x=U(c.value.value).slice(),T=U(h),E=x.findIndex(F=>c.compare(T,U(F)));return E===-1?x.push(T):x.splice(E,1),w==null?void 0:w(x)}})}let I=g(()=>{});te([I],([h],[x])=>{if(c.virtual.value&&h&&x&&d.value!==null){let T=h.indexOf(x[d.value]);T!==-1?d.value=T:d.value=null}});let c={comboboxState:t,value:v,mode:C,compare(h,x){if(typeof e.by=="string"){let T=e.by;return(h==null?void 0:h[T])===(x==null?void 0:x[T])}return e.by===null?ol(h,x):e.by(h,x)},calculateIndex(h){return c.virtual.value?e.by===null?c.virtual.value.options.indexOf(h):c.virtual.value.options.findIndex(x=>c.compare(x,h)):r.value.findIndex(x=>c.compare(x.dataRef.value,h))},defaultValue:g(()=>e.defaultValue),nullable:R,immediate:g(()=>!1),virtual:g(()=>null),inputRef:n,labelRef:i,buttonRef:a,optionsRef:p,disabled:g(()=>e.disabled),options:r,change(h){w(h)},activeOptionIndex:g(()=>{if(M.value&&d.value===null&&(c.virtual.value?c.virtual.value.options.length>0:r.value.length>0)){if(c.virtual.value){let x=c.virtual.value.options.findIndex(T=>{var E;return!((E=c.virtual.value)!=null&&E.disabled(T))});if(x!==-1)return x}let h=r.value.findIndex(x=>!x.dataRef.disabled);if(h!==-1)return h}return d.value}),activationTrigger:f,optionsPropsRef:m,closeCombobox(){M.value=!1,!e.disabled&&t.value!==1&&(t.value=1,d.value=null)},openCombobox(){if(M.value=!0,!e.disabled&&t.value!==0){if(c.value.value){let h=c.calculateIndex(c.value.value);h!==-1&&(d.value=h)}t.value=0}},setActivationTrigger(h){f.value=h},goToOption(h,x,T){M.value=!1,s!==null&&cancelAnimationFrame(s),s=requestAnimationFrame(()=>{if(e.disabled||p.value&&!m.value.static&&t.value===1)return;if(c.virtual.value){d.value=h===A.Specific?x:Ae({focus:h},{resolveItems:()=>c.virtual.value.options,resolveActiveIndex:()=>{var B,Y;return(Y=(B=c.activeOptionIndex.value)!=null?B:c.virtual.value.options.findIndex(me=>{var ie;return!((ie=c.virtual.value)!=null&&ie.disabled(me))}))!=null?Y:null},resolveDisabled:B=>c.virtual.value.disabled(B),resolveId(){throw new Error("Function not implemented.")}}),f.value=T??2;return}let E=b();if(E.activeOptionIndex===null){let B=E.options.findIndex(Y=>!Y.dataRef.disabled);B!==-1&&(E.activeOptionIndex=B)}let F=h===A.Specific?x:Ae({focus:h},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:B=>B.id,resolveDisabled:B=>B.dataRef.disabled});d.value=F,f.value=T??2,r.value=E.options})},selectOption(h){let x=r.value.find(E=>E.id===h);if(!x)return;let{dataRef:T}=x;S(T.value)},selectActiveOption(){if(c.activeOptionIndex.value!==null){if(c.virtual.value)S(c.virtual.value.options[c.activeOptionIndex.value]);else{let{dataRef:h}=r.value[c.activeOptionIndex.value];S(h.value)}c.goToOption(A.Specific,c.activeOptionIndex.value)}},registerOption(h,x){let T=Ye({id:h,dataRef:x});if(c.virtual.value){r.value.push(T);return}O&&cancelAnimationFrame(O);let E=b(F=>(F.push(T),F));d.value===null&&c.isSelected(x.value.value)&&(E.activeOptionIndex=E.options.indexOf(T)),r.value=E.options,d.value=E.activeOptionIndex,f.value=2,E.options.some(F=>!V(F.dataRef.domRef))&&(O=requestAnimationFrame(()=>{let F=b();r.value=F.options,d.value=F.activeOptionIndex}))},unregisterOption(h,x){if(s!==null&&cancelAnimationFrame(s),x&&(M.value=!0),c.virtual.value){r.value=r.value.filter(E=>E.id!==h);return}let T=b(E=>{let F=E.findIndex(B=>B.id===h);return F!==-1&&E.splice(F,1),E});r.value=T.options,d.value=T.activeOptionIndex,f.value=2},isSelected(h){return Q(C.value,{0:()=>c.compare(U(c.value.value),U(h)),1:()=>U(c.value.value).some(x=>c.compare(U(x),U(h)))})},isActive(h){return d.value===c.calculateIndex(h)}};Je([n,a,p],()=>c.closeCombobox(),g(()=>t.value===0)),Pe(pt,c),Xe(g(()=>Q(t.value,{0:ae.Open,1:ae.Closed})));let $=g(()=>{var h;return(h=V(n))==null?void 0:h.closest("form")});return ce(()=>{te([$],()=>{if(!$.value||e.defaultValue===void 0)return;function h(){c.change(e.defaultValue)}return $.value.addEventListener("reset",h),()=>{var x;(x=$.value)==null||x.removeEventListener("reset",h)}},{immediate:!0})}),()=>{var h,x,T;let{name:E,disabled:F,form:B,...Y}=e,me={open:t.value===0,disabled:F,activeIndex:c.activeOptionIndex.value,activeOption:c.activeOptionIndex.value===null?null:c.virtual.value?c.virtual.value.options[(h=c.activeOptionIndex.value)!=null?h:0]:(T=(x=c.options.value[c.activeOptionIndex.value])==null?void 0:x.dataRef.value)!=null?T:null,value:v.value};return ve(re,[...E!=null&&v.value!=null?Be({[E]:v.value}).map(([ie,we])=>ve(Ze,et({features:tt.Hidden,key:ie,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:B,disabled:F,name:ie,value:we}))):[],ne({theirProps:{...l,...Re(Y,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:me,slots:u,attrs:l,name:"Combobox"})])}}}),dl=W({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:l,expose:o}){var t;let i=(t=e.id)!=null?t:`headlessui-combobox-button-${se()}`,n=fe("ComboboxButton");o({el:n.buttonRef,$el:n.buttonRef});function a(r){n.disabled.value||(n.comboboxState.value===0?n.closeCombobox():(r.preventDefault(),n.openCombobox()),G(()=>{var d;return(d=V(n.inputRef))==null?void 0:d.focus({preventScroll:!0})}))}function p(r){switch(r.key){case P.ArrowDown:r.preventDefault(),r.stopPropagation(),n.comboboxState.value===1&&n.openCombobox(),G(()=>{var d;return(d=n.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case P.ArrowUp:r.preventDefault(),r.stopPropagation(),n.comboboxState.value===1&&(n.openCombobox(),G(()=>{n.value.value||n.goToOption(A.Last)})),G(()=>{var d;return(d=n.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case P.Escape:if(n.comboboxState.value!==0)return;r.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&r.stopPropagation(),n.closeCombobox(),G(()=>{var d;return(d=n.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return}}let m=lt(g(()=>({as:e.as,type:u.type})),n.buttonRef);return()=>{var r,d;let f={open:n.comboboxState.value===0,disabled:n.disabled.value,value:n.value.value},{...M}=e,b={ref:n.buttonRef,id:i,type:m.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(r=V(n.optionsRef))==null?void 0:r.id,"aria-expanded":n.comboboxState.value===0,"aria-labelledby":n.labelRef.value?[(d=V(n.labelRef))==null?void 0:d.id,i].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:p,onClick:a};return ne({ourProps:b,theirProps:M,slot:f,attrs:u,slots:l,name:"ComboboxButton"})}}}),cl=W({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:u,attrs:l,slots:o,expose:t}){var i;let n=(i=e.id)!=null?i:`headlessui-combobox-input-${se()}`,a=fe("ComboboxInput"),p=g(()=>Qe(V(a.inputRef))),m={value:!1};t({el:a.inputRef,$el:a.inputRef});function r(){a.change(null);let s=V(a.optionsRef);s&&(s.scrollTop=0),a.goToOption(A.Nothing)}let d=g(()=>{var s;let O=a.value.value;return V(a.inputRef)?typeof e.displayValue<"u"&&O!==void 0?(s=e.displayValue(O))!=null?s:"":typeof O=="string"?O:"":""});ce(()=>{te([d,a.comboboxState,p],([s,O],[S,I])=>{if(m.value)return;let c=V(a.inputRef);c&&((I===0&&O===1||s!==S)&&(c.value=s),requestAnimationFrame(()=>{var $;if(m.value||!c||(($=p.value)==null?void 0:$.activeElement)!==c)return;let{selectionStart:h,selectionEnd:x}=c;Math.abs((x??0)-(h??0))===0&&h===0&&c.setSelectionRange(c.value.length,c.value.length)}))},{immediate:!0}),te([a.comboboxState],([s],[O])=>{if(s===0&&O===1){if(m.value)return;let S=V(a.inputRef);if(!S)return;let I=S.value,{selectionStart:c,selectionEnd:$,selectionDirection:h}=S;S.value="",S.value=I,h!==null?S.setSelectionRange(c,$,h):S.setSelectionRange(c,$)}})});let f=z(!1);function M(){f.value=!0}function b(){je().nextFrame(()=>{f.value=!1})}function C(s){switch(m.value=!0,s.key){case P.Enter:if(m.value=!1,a.comboboxState.value!==0||f.value)return;if(s.preventDefault(),s.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case P.ArrowDown:return m.value=!1,s.preventDefault(),s.stopPropagation(),Q(a.comboboxState.value,{0:()=>a.goToOption(A.Next),1:()=>a.openCombobox()});case P.ArrowUp:return m.value=!1,s.preventDefault(),s.stopPropagation(),Q(a.comboboxState.value,{0:()=>a.goToOption(A.Previous),1:()=>{a.openCombobox(),G(()=>{a.value.value||a.goToOption(A.Last)})}});case P.Home:if(s.shiftKey)break;return m.value=!1,s.preventDefault(),s.stopPropagation(),a.goToOption(A.First);case P.PageUp:return m.value=!1,s.preventDefault(),s.stopPropagation(),a.goToOption(A.First);case P.End:if(s.shiftKey)break;return m.value=!1,s.preventDefault(),s.stopPropagation(),a.goToOption(A.Last);case P.PageDown:return m.value=!1,s.preventDefault(),s.stopPropagation(),a.goToOption(A.Last);case P.Escape:if(m.value=!1,a.comboboxState.value!==0)return;s.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&s.stopPropagation(),a.nullable.value&&a.mode.value===0&&a.value.value===null&&r(),a.closeCombobox();break;case P.Tab:if(m.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.activationTrigger.value!==1&&a.selectActiveOption(),a.closeCombobox();break}}function R(s){u("change",s),a.nullable.value&&a.mode.value===0&&s.target.value===""&&r(),a.openCombobox()}function y(s){var O,S,I;let c=(O=s.relatedTarget)!=null?O:qe.find($=>$!==s.currentTarget);if(m.value=!1,!((S=V(a.optionsRef))!=null&&S.contains(c))&&!((I=V(a.buttonRef))!=null&&I.contains(c))&&a.comboboxState.value===0)return s.preventDefault(),a.mode.value===0&&(a.nullable.value&&a.value.value===null?r():a.activationTrigger.value!==1&&a.selectActiveOption()),a.closeCombobox()}function w(s){var O,S,I;let c=(O=s.relatedTarget)!=null?O:qe.find($=>$!==s.currentTarget);(S=V(a.buttonRef))!=null&&S.contains(c)||(I=V(a.optionsRef))!=null&&I.contains(c)||a.disabled.value||a.immediate.value&&a.comboboxState.value!==0&&(a.openCombobox(),je().nextFrame(()=>{a.setActivationTrigger(1)}))}let v=g(()=>{var s,O,S,I;return(I=(S=(O=e.defaultValue)!=null?O:a.defaultValue.value!==void 0?(s=e.displayValue)==null?void 0:s.call(e,a.defaultValue.value):null)!=null?S:a.defaultValue.value)!=null?I:""});return()=>{var s,O,S,I,c,$,h;let x={open:a.comboboxState.value===0},{displayValue:T,onChange:E,...F}=e,B={"aria-controls":(s=a.optionsRef.value)==null?void 0:s.id,"aria-expanded":a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null?void 0:a.virtual.value?(O=a.options.value.find(Y=>!a.virtual.value.disabled(Y.dataRef.value)&&a.compare(Y.dataRef.value,a.virtual.value.options[a.activeOptionIndex.value])))==null?void 0:O.id:(S=a.options.value[a.activeOptionIndex.value])==null?void 0:S.id,"aria-labelledby":($=(I=V(a.labelRef))==null?void 0:I.id)!=null?$:(c=V(a.buttonRef))==null?void 0:c.id,"aria-autocomplete":"list",id:n,onCompositionstart:M,onCompositionend:b,onKeydown:C,onInput:R,onFocus:w,onBlur:y,role:"combobox",type:(h=l.type)!=null?h:"text",tabIndex:0,ref:a.inputRef,defaultValue:v.value,disabled:a.disabled.value===!0?!0:void 0};return ne({ourProps:B,theirProps:F,slot:x,attrs:l,slots:o,features:pe.RenderStrategy|pe.Static,name:"ComboboxInput"})}}}),vl=W({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:u,slots:l,expose:o}){let t=fe("ComboboxOptions"),i=`headlessui-combobox-options-${se()}`;o({el:t.optionsRef,$el:t.optionsRef}),de(()=>{t.optionsPropsRef.value.static=e.static}),de(()=>{t.optionsPropsRef.value.hold=e.hold});let n=nt(),a=g(()=>n!==null?(n.value&ae.Open)===ae.Open:t.comboboxState.value===0);tl({container:g(()=>V(t.optionsRef)),enabled:g(()=>t.comboboxState.value===0),accept(m){return m.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});function p(m){m.preventDefault()}return()=>{var m,r,d;let f={open:t.comboboxState.value===0},M={"aria-labelledby":(d=(m=V(t.labelRef))==null?void 0:m.id)!=null?d:(r=V(t.buttonRef))==null?void 0:r.id,id:i,ref:t.optionsRef,role:"listbox","aria-multiselectable":t.mode.value===1?!0:void 0,onMousedown:p},b=Re(e,["hold"]);return ne({ourProps:M,theirProps:b,slot:f,attrs:u,slots:t.virtual.value&&t.comboboxState.value===0?{...l,default:()=>[ve(sl,{},l.default)]}:l,features:pe.RenderStrategy|pe.Static,visible:a.value,name:"ComboboxOptions"})}}}),pl=W({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:u,attrs:l,expose:o}){let t=fe("ComboboxOption"),i=`headlessui-combobox-option-${se()}`,n=z(null);o({el:n,$el:n});let a=g(()=>{var y;return t.virtual.value?t.activeOptionIndex.value===t.calculateIndex(e.value):t.activeOptionIndex.value===null?!1:((y=t.options.value[t.activeOptionIndex.value])==null?void 0:y.id)===i}),p=g(()=>t.isSelected(e.value)),m=ze(ft,null),r=g(()=>({disabled:e.disabled,value:e.value,domRef:n,order:g(()=>e.order)}));ce(()=>t.registerOption(i,r)),ot(()=>t.unregisterOption(i,a.value)),de(()=>{let y=V(n);y&&(m==null||m.value.measureElement(y))}),de(()=>{t.comboboxState.value===0&&a.value&&(t.virtual.value||t.activationTrigger.value!==0&&G(()=>{var y,w;return(w=(y=V(n))==null?void 0:y.scrollIntoView)==null?void 0:w.call(y,{block:"nearest"})}))});function d(y){var w;if(e.disabled||(w=t.virtual.value)!=null&&w.disabled(e.value))return y.preventDefault();t.selectOption(i),xt()||requestAnimationFrame(()=>{var v;return(v=V(t.inputRef))==null?void 0:v.focus({preventScroll:!0})}),t.mode.value===0&&requestAnimationFrame(()=>t.closeCombobox())}function f(){var y;if(e.disabled||(y=t.virtual.value)!=null&&y.disabled(e.value))return t.goToOption(A.Nothing);let w=t.calculateIndex(e.value);t.goToOption(A.Specific,w)}let M=dt();function b(y){M.update(y)}function C(y){var w;if(!M.wasMoved(y)||e.disabled||(w=t.virtual.value)!=null&&w.disabled(e.value)||a.value)return;let v=t.calculateIndex(e.value);t.goToOption(A.Specific,v,0)}function R(y){var w;M.wasMoved(y)&&(e.disabled||(w=t.virtual.value)!=null&&w.disabled(e.value)||a.value&&(t.optionsPropsRef.value.hold||t.goToOption(A.Nothing)))}return()=>{let{disabled:y}=e,w={active:a.value,selected:p.value,disabled:y},v={id:i,ref:n,role:"option",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:d,onFocus:f,onPointerenter:b,onMouseenter:b,onPointermove:C,onMousemove:C,onPointerleave:R,onMouseleave:R},s=Re(e,["order","value"]);return ne({ourProps:v,theirProps:s,slot:w,attrs:l,slots:u,name:"ComboboxOption"})}}}),We=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ge(e){var u,l;let o=(u=e.innerText)!=null?u:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return o;let i=!1;for(let a of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let n=i?(l=t.innerText)!=null?l:"":o;return We.test(n)&&(n=n.replace(We,"")),n}function fl(e){let u=e.getAttribute("aria-label");if(typeof u=="string")return u.trim();let l=e.getAttribute("aria-labelledby");if(l){let o=l.split(" ").map(t=>{let i=document.getElementById(t);if(i){let n=i.getAttribute("aria-label");return typeof n=="string"?n.trim():Ge(i).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return Ge(e).trim()}function ml(e){let u=z(""),l=z("");return()=>{let o=V(e);if(!o)return"";let t=o.innerText;if(u.value===t)return l.value;let i=fl(o).trim().toLowerCase();return u.value=t,l.value=i,i}}function bl(e,u){return e===u}var hl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hl||{}),gl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(gl||{}),yl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(yl||{});function Ol(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let mt=Symbol("ListboxContext");function Ve(e){let u=ze(mt,null);if(u===null){let l=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,Ve),l}return u}let Sl=W({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>bl},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:u,attrs:l,emit:o}){let t=z(1),i=z(null),n=z(null),a=z(null),p=z([]),m=z(""),r=z(null),d=z(1);function f(v=s=>s){let s=r.value!==null?p.value[r.value]:null,O=at(v(p.value.slice()),I=>V(I.dataRef.domRef)),S=s?O.indexOf(s):null;return S===-1&&(S=null),{options:O,activeOptionIndex:S}}let M=g(()=>e.multiple?1:0),[b,C]=rt(g(()=>e.modelValue),v=>o("update:modelValue",v),g(()=>e.defaultValue)),R=g(()=>b.value===void 0?Q(M.value,{1:[],0:void 0}):b.value),y={listboxState:t,value:R,mode:M,compare(v,s){if(typeof e.by=="string"){let O=e.by;return(v==null?void 0:v[O])===(s==null?void 0:s[O])}return e.by(v,s)},orientation:g(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:n,optionsRef:a,disabled:g(()=>e.disabled),options:p,searchQuery:m,activeOptionIndex:r,activationTrigger:d,closeListbox(){e.disabled||t.value!==1&&(t.value=1,r.value=null)},openListbox(){e.disabled||t.value!==0&&(t.value=0)},goToOption(v,s,O){if(e.disabled||t.value===1)return;let S=f(),I=Ae(v===A.Specific?{focus:A.Specific,id:s}:{focus:v},{resolveItems:()=>S.options,resolveActiveIndex:()=>S.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.disabled});m.value="",r.value=I,d.value=O??1,p.value=S.options},search(v){if(e.disabled||t.value===1)return;let s=m.value!==""?0:1;m.value+=v.toLowerCase();let O=(r.value!==null?p.value.slice(r.value+s).concat(p.value.slice(0,r.value+s)):p.value).find(I=>I.dataRef.textValue.startsWith(m.value)&&!I.dataRef.disabled),S=O?p.value.indexOf(O):-1;S===-1||S===r.value||(r.value=S,d.value=1)},clearSearch(){e.disabled||t.value!==1&&m.value!==""&&(m.value="")},registerOption(v,s){let O=f(S=>[...S,{id:v,dataRef:s}]);p.value=O.options,r.value=O.activeOptionIndex},unregisterOption(v){let s=f(O=>{let S=O.findIndex(I=>I.id===v);return S!==-1&&O.splice(S,1),O});p.value=s.options,r.value=s.activeOptionIndex,d.value=1},theirOnChange(v){e.disabled||C(v)},select(v){e.disabled||C(Q(M.value,{0:()=>v,1:()=>{let s=U(y.value.value).slice(),O=U(v),S=s.findIndex(I=>y.compare(O,U(I)));return S===-1?s.push(O):s.splice(S,1),s}}))}};Je([n,a],(v,s)=>{var O;y.closeListbox(),It(s,Ct.Loose)||(v.preventDefault(),(O=V(n))==null||O.focus())},g(()=>t.value===0)),Pe(mt,y),Xe(g(()=>Q(t.value,{0:ae.Open,1:ae.Closed})));let w=g(()=>{var v;return(v=V(n))==null?void 0:v.closest("form")});return ce(()=>{te([w],()=>{if(!w.value||e.defaultValue===void 0)return;function v(){y.theirOnChange(e.defaultValue)}return w.value.addEventListener("reset",v),()=>{var s;(s=w.value)==null||s.removeEventListener("reset",v)}},{immediate:!0})}),()=>{let{name:v,modelValue:s,disabled:O,form:S,...I}=e,c={open:t.value===0,disabled:O,value:R.value};return ve(re,[...v!=null&&R.value!=null?Be({[v]:R.value}).map(([$,h])=>ve(Ze,et({features:tt.Hidden,key:$,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:S,disabled:O,name:$,value:h}))):[],ne({ourProps:{},theirProps:{...l,...Re(I,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:c,slots:u,attrs:l,name:"Listbox"})])}}}),xl=W({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:l,expose:o}){var t;let i=(t=e.id)!=null?t:`headlessui-listbox-button-${se()}`,n=Ve("ListboxButton");o({el:n.buttonRef,$el:n.buttonRef});function a(d){switch(d.key){case P.Space:case P.Enter:case P.ArrowDown:d.preventDefault(),n.openListbox(),G(()=>{var f;(f=V(n.optionsRef))==null||f.focus({preventScroll:!0}),n.value.value||n.goToOption(A.First)});break;case P.ArrowUp:d.preventDefault(),n.openListbox(),G(()=>{var f;(f=V(n.optionsRef))==null||f.focus({preventScroll:!0}),n.value.value||n.goToOption(A.Last)});break}}function p(d){switch(d.key){case P.Space:d.preventDefault();break}}function m(d){n.disabled.value||(n.listboxState.value===0?(n.closeListbox(),G(()=>{var f;return(f=V(n.buttonRef))==null?void 0:f.focus({preventScroll:!0})})):(d.preventDefault(),n.openListbox(),Ol(()=>{var f;return(f=V(n.optionsRef))==null?void 0:f.focus({preventScroll:!0})})))}let r=lt(g(()=>({as:e.as,type:u.type})),n.buttonRef);return()=>{var d,f;let M={open:n.listboxState.value===0,disabled:n.disabled.value,value:n.value.value},{...b}=e,C={ref:n.buttonRef,id:i,type:r.value,"aria-haspopup":"listbox","aria-controls":(d=V(n.optionsRef))==null?void 0:d.id,"aria-expanded":n.listboxState.value===0,"aria-labelledby":n.labelRef.value?[(f=V(n.labelRef))==null?void 0:f.id,i].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:a,onKeyup:p,onClick:m};return ne({ourProps:C,theirProps:b,slot:M,attrs:u,slots:l,name:"ListboxButton"})}}}),Il=W({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:u,slots:l,expose:o}){var t;let i=(t=e.id)!=null?t:`headlessui-listbox-options-${se()}`,n=Ve("ListboxOptions"),a=z(null);o({el:n.optionsRef,$el:n.optionsRef});function p(d){switch(a.value&&clearTimeout(a.value),d.key){case P.Space:if(n.searchQuery.value!=="")return d.preventDefault(),d.stopPropagation(),n.search(d.key);case P.Enter:if(d.preventDefault(),d.stopPropagation(),n.activeOptionIndex.value!==null){let f=n.options.value[n.activeOptionIndex.value];n.select(f.dataRef.value)}n.mode.value===0&&(n.closeListbox(),G(()=>{var f;return(f=V(n.buttonRef))==null?void 0:f.focus({preventScroll:!0})}));break;case Q(n.orientation.value,{vertical:P.ArrowDown,horizontal:P.ArrowRight}):return d.preventDefault(),d.stopPropagation(),n.goToOption(A.Next);case Q(n.orientation.value,{vertical:P.ArrowUp,horizontal:P.ArrowLeft}):return d.preventDefault(),d.stopPropagation(),n.goToOption(A.Previous);case P.Home:case P.PageUp:return d.preventDefault(),d.stopPropagation(),n.goToOption(A.First);case P.End:case P.PageDown:return d.preventDefault(),d.stopPropagation(),n.goToOption(A.Last);case P.Escape:d.preventDefault(),d.stopPropagation(),n.closeListbox(),G(()=>{var f;return(f=V(n.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case P.Tab:d.preventDefault(),d.stopPropagation();break;default:d.key.length===1&&(n.search(d.key),a.value=setTimeout(()=>n.clearSearch(),350));break}}let m=nt(),r=g(()=>m!==null?(m.value&ae.Open)===ae.Open:n.listboxState.value===0);return()=>{var d,f;let M={open:n.listboxState.value===0},{...b}=e,C={"aria-activedescendant":n.activeOptionIndex.value===null||(d=n.options.value[n.activeOptionIndex.value])==null?void 0:d.id,"aria-multiselectable":n.mode.value===1?!0:void 0,"aria-labelledby":(f=V(n.buttonRef))==null?void 0:f.id,"aria-orientation":n.orientation.value,id:i,onKeydown:p,role:"listbox",tabIndex:0,ref:n.optionsRef};return ne({ourProps:C,theirProps:b,slot:M,attrs:u,slots:l,features:pe.RenderStrategy|pe.Static,visible:r.value,name:"ListboxOptions"})}}}),Cl=W({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:u,attrs:l,expose:o}){var t;let i=(t=e.id)!=null?t:`headlessui-listbox-option-${se()}`,n=Ve("ListboxOption"),a=z(null);o({el:a,$el:a});let p=g(()=>n.activeOptionIndex.value!==null?n.options.value[n.activeOptionIndex.value].id===i:!1),m=g(()=>Q(n.mode.value,{0:()=>n.compare(U(n.value.value),U(e.value)),1:()=>U(n.value.value).some(v=>n.compare(U(v),U(e.value)))})),r=g(()=>Q(n.mode.value,{1:()=>{var v;let s=U(n.value.value);return((v=n.options.value.find(O=>s.some(S=>n.compare(U(S),U(O.dataRef.value)))))==null?void 0:v.id)===i},0:()=>m.value})),d=ml(a),f=g(()=>({disabled:e.disabled,value:e.value,get textValue(){return d()},domRef:a}));ce(()=>n.registerOption(i,f)),ot(()=>n.unregisterOption(i)),ce(()=>{te([n.listboxState,m],()=>{n.listboxState.value===0&&m.value&&Q(n.mode.value,{1:()=>{r.value&&n.goToOption(A.Specific,i)},0:()=>{n.goToOption(A.Specific,i)}})},{immediate:!0})}),de(()=>{n.listboxState.value===0&&p.value&&n.activationTrigger.value!==0&&G(()=>{var v,s;return(s=(v=V(a))==null?void 0:v.scrollIntoView)==null?void 0:s.call(v,{block:"nearest"})})});function M(v){if(e.disabled)return v.preventDefault();n.select(e.value),n.mode.value===0&&(n.closeListbox(),G(()=>{var s;return(s=V(n.buttonRef))==null?void 0:s.focus({preventScroll:!0})}))}function b(){if(e.disabled)return n.goToOption(A.Nothing);n.goToOption(A.Specific,i)}let C=dt();function R(v){C.update(v)}function y(v){C.wasMoved(v)&&(e.disabled||p.value||n.goToOption(A.Specific,i,0))}function w(v){C.wasMoved(v)&&(e.disabled||p.value&&n.goToOption(A.Nothing))}return()=>{let{disabled:v}=e,s={active:p.value,selected:m.value,disabled:v},{value:O,disabled:S,...I}=e,c={id:i,ref:a,role:"option",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,"aria-selected":m.value,disabled:void 0,onClick:M,onFocus:b,onPointerenter:R,onMouseenter:R,onPointermove:y,onMousemove:y,onPointerleave:w,onMouseleave:w};return ne({ourProps:c,theirProps:I,slot:s,attrs:l,slots:u,name:"ListboxOption"})}}});const ee=it(ue.ui.strategy,ue.ui.select,Mt),Se=it(ue.ui.strategy,ue.ui.selectMenu,Vt),Rl=W({components:{HCombobox:rl,HComboboxButton:dl,HComboboxOptions:vl,HComboboxOption:pl,HComboboxInput:cl,HListbox:Sl,HListboxButton:xl,HListboxOptions:Il,HListboxOption:Cl,UIcon:ye,UAvatar:ut},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ee.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ee.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Se.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},clearSearchOnClose:{type:Boolean,default:()=>Se.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:String,default:()=>Se.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ee.size).includes(e)}},color:{type:String,default:()=>ee.default.color,validator(e){return[...ue.ui.colors,...Object.keys(ee.color)].includes(e)}},variant:{type:String,default:()=>ee.default.variant,validator(e){return[...Object.keys(ee.variant),...Object.values(ee.color).flatMap(u=>Object.keys(u))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:u,slots:l}){const{ui:o,attrs:t}=Ue("select",Ee(e,"ui"),ee,Ee(e,"class")),{ui:i}=Ue("selectMenu",Ee(e,"uiMenu"),Se),n=g(()=>wt({},e.popper,i.value.popper)),[a,p]=Tt(n.value),{size:m,rounded:r}=Et({ui:o,props:e}),{emitFormBlur:d,emitFormChange:f,inputId:M,color:b,size:C,name:R}=bt(e,ee),y=g(()=>m.value||C.value),w=z(""),v=g({get(){return e.query??w.value},set(j){w.value=j,u("update:query",j)}}),s=g(()=>{if(e.multiple)return Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:null;if(e.modelValue!==void 0&&e.modelValue!==null)if(e.valueAttribute){const j=e.options.find(X=>X[e.valueAttribute]===e.modelValue);return j?j[e.optionAttribute]:null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute];return null}),O=g(()=>{var X,Oe;const j=((Oe=(X=o.value.color)==null?void 0:X[b.value])==null?void 0:Oe[e.variant])||o.value.variant[e.variant];return $t(be(o.value.base,i.value.select,r.value,o.value.size[y.value],o.value.gap[y.value],e.padded?o.value.padding[y.value]:"p-0",j==null?void 0:j.replaceAll("{color}",b.value),(S.value||l.leading)&&o.value.leading.padding[y.value],(I.value||l.trailing)&&o.value.trailing.padding[y.value]),e.placeholder&&e.modelValue===void 0&&e.modelValue===null&&o.value.placeholder,e.selectClass)}),S=g(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),I=g(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),c=g(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),$=g(()=>e.loading&&!S.value?e.loadingIcon:e.trailingIcon||e.icon),h=g(()=>be(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[y.value])),x=g(()=>be(o.value.icon.base,b.value&&ue.ui.colors.includes(b.value)&&o.value.icon.color.replaceAll("{color}",b.value),o.value.icon.size[y.value],e.loading&&o.value.icon.loading)),T=g(()=>be(o.value.icon.trailing.wrapper,o.value.icon.trailing.pointer,o.value.icon.trailing.padding[y.value])),E=g(()=>be(o.value.icon.base,b.value&&ue.ui.colors.includes(b.value)&&o.value.icon.color.replaceAll("{color}",b.value),o.value.icon.size[y.value],e.loading&&!S.value&&o.value.icon.loading)),F=typeof e.searchable=="function"?kt(e.searchable,e.debounce):void 0,B=At(async()=>e.searchable&&F?await F(v.value):v.value===""?e.options:e.options.filter(j=>{var X;return((X=e.searchAttributes)!=null&&X.length?e.searchAttributes:[e.optionAttribute]).some(Oe=>{if(["string","number"].includes(typeof j))return String(j).search(new RegExp(v.value,"i"))!==-1;const Te=Bt(j,Oe);return Te!=null&&String(Te).search(new RegExp(v.value,"i"))!==-1})})),Y=g(()=>v.value===""||e.showCreateOptionWhen==="empty"&&B.value.length||e.showCreateOptionWhen==="always"&&B.value.find(X=>["string","number"].includes(typeof X)?X===v.value:X[e.optionAttribute]===v.value)?null:["string","number"].includes(typeof e.modelValue)?v.value:{[e.optionAttribute]:v.value});function me(){e.clearSearchOnClose&&(v.value="")}te(p,j=>{j?u("open"):(me(),u("close"),d())});function ie(j){u("update:modelValue",j),u("change",j),f()}function we(j){v.value=j.target.value}return Dt(()=>Pt("$1rsfs8T31h")),{ui:o,uiMenu:i,attrs:t,name:R,inputId:M,popper:n,trigger:a,container:p,label:s,isLeading:S,isTrailing:I,selectClass:O,leadingIconName:c,leadingIconClass:x,leadingWrapperIconClass:h,trailingIconName:$,trailingIconClass:E,trailingWrapperIconClass:T,filteredOptions:B,createOption:Y,query:v,onUpdate:ie,onQueryChange:we}}}),Ml=["value","required"],Vl=["id","disabled"],wl={class:"truncate"};function Tl(e,u,l,o,t,i){const n=ye,a=zt("HComboboxInput"),p=ut;return D(),J(he(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:_(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:q(({open:m})=>[e.required?(D(),K("input",{key:0,value:e.modelValue,required:e.required,class:_(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,Ml)):le("",!0),(D(),J(he(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:_(e.uiMenu.trigger)},{default:q(()=>[oe(e.$slots,"default",{open:m,disabled:e.disabled,loading:e.loading},()=>[N("button",$e({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(D(),K("span",{key:0,class:_(e.leadingWrapperIconClass)},[oe(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[k(n,{name:e.leadingIconName,class:_(e.leadingIconClass)},null,8,["name","class"])])],2)):le("",!0),oe(e.$slots,"label",{},()=>[e.label?(D(),K("span",{key:0,class:_(e.uiMenu.label)},H(e.label),3)):(D(),K("span",{key:1,class:_(e.uiMenu.label)},H(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(D(),K("span",{key:1,class:_(e.trailingWrapperIconClass)},[oe(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[k(n,{name:e.trailingIconName,class:_(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):le("",!0)],16,Vl)])]),_:2},1032,["class"])),m?(D(),K("div",{key:1,ref:"container",class:_([e.uiMenu.container,e.uiMenu.width])},[k(Ft,$e({appear:""},e.uiMenu.transition),{default:q(()=>[N("div",null,[e.popper.arrow?(D(),K("div",{key:0,"data-popper-arrow":"",class:_(Object.values(e.uiMenu.arrow))},null,2)):le("",!0),(D(),J(he(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:_([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:q(()=>{var r,d;return[e.searchable?(D(),J(a,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:_(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):le("",!0),(D(!0),K(re,null,xe(e.filteredOptions,(f,M)=>(D(),J(he(e.searchable?"HComboboxOption":"HListboxOption"),{key:M,as:"template",value:e.valueAttribute?f[e.valueAttribute]:f,disabled:f.disabled},{default:q(({active:b,selected:C,disabled:R})=>[N("li",{class:_([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,b?e.uiMenu.option.active:e.uiMenu.option.inactive,C&&e.uiMenu.option.selected,R&&e.uiMenu.option.disabled])},[N("div",{class:_(e.uiMenu.option.container)},[oe(e.$slots,"option",{option:f,active:b,selected:C},()=>[f.icon?(D(),J(n,{key:0,name:f.icon,class:_([e.uiMenu.option.icon.base,b?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,f.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):f.avatar?(D(),J(p,$e({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...f.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):f.chip?(D(),K("span",{key:2,class:_(e.uiMenu.option.chip.base),style:Lt({background:`#${f.chip}`})},null,6)):le("",!0),N("span",wl,H(["string","number"].includes(typeof f)?f:f[e.optionAttribute]),1)])],2),C?(D(),K("span",{key:0,class:_([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[k(n,{name:e.selectedIcon,class:_(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):le("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(D(),J(he(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:q(({active:f,selected:M})=>[N("li",{class:_([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,f?e.uiMenu.option.active:e.uiMenu.option.inactive])},[N("div",{class:_(e.uiMenu.option.container)},[oe(e.$slots,"option-create",{option:e.createOption,active:f,selected:M},()=>[N("span",{class:_(e.uiMenu.option.create)},'Create "'+H(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((r=e.filteredOptions)!=null&&r.length)?(D(),K("p",{key:2,class:_(e.uiMenu.option.empty)},[oe(e.$slots,"option-empty",{query:e.query},()=>[Z(' No results for "'+H(e.query)+'". ',1)])],2)):(d=e.filteredOptions)!=null&&d.length?le("",!0):(D(),K("p",{key:3,class:_(e.uiMenu.empty)},[oe(e.$slots,"empty",{query:e.query},()=>[Z(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):le("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const _e=Rt(Rl,[["render",Tl]]),El={class:"flex"},$l=W({__name:"Telephone",props:{modelValue:{required:!0},modelModifiers:{}},emits:Fe(["remove"],["update:modelValue"]),setup(e){const{telephoneOptions:u}=Ie(),l=Le(e,"modelValue");return(o,t)=>{const i=ye,n=_e,a=Ce,p=De,m=Me;return D(),K("div",El,[k(p,null,{default:q(()=>[k(n,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),options:L(u)},{label:q(()=>[k(i,{name:l.value.icon},null,8,["name"]),Z(" "+H(l.value.label),1)]),option:q(({option:r})=>[k(i,{name:r.icon,class:"text-slate-400"},null,8,["name"]),Z(" "+H(r.label),1)]),_:1},8,["modelValue","options"]),k(a,{modelValue:e.modelValue.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.modelValue.value=r),class:"col-start-2 col-span-3",type:"tel"},null,8,["modelValue"])]),_:1}),k(m,{icon:"i-ph-trash-duotone",variant:"ghost",size:"2xs",color:"rose",onClick:t[2]||(t[2]=r=>o.$emit("remove"))})])}}}),kl={class:"flex"},Al=W({__name:"Email",props:{modelValue:{required:!0},modelModifiers:{}},emits:Fe(["remove"],["update:modelValue"]),setup(e){const{emailOptions:u}=Ie(),l=Le(e,"modelValue");return(o,t)=>{const i=ye,n=_e,a=Ce,p=De,m=Me;return D(),K("div",kl,[k(p,{class:"w-full"},{default:q(()=>[k(n,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),options:L(u),class:"w-36"},{label:q(()=>[k(i,{name:l.value.icon},null,8,["name"]),Z(" "+H(l.value.label),1)]),option:q(({option:r})=>[k(i,{name:r.icon,class:"text-slate-400"},null,8,["name"]),Z(" "+H(r.label),1)]),_:1},8,["modelValue","options"]),k(a,{modelValue:e.modelValue.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.modelValue.value=r),modelModifiers:{number:!0},placeholder:"username@example.com",class:"col-start-2 col-span-3 w-full",type:"tel"},null,8,["modelValue"])]),_:1}),k(m,{icon:"i-ph-trash-duotone",variant:"ghost",size:"2xs",color:"rose",onClick:t[2]||(t[2]=r=>o.$emit("remove"))})])}}}),Dl={class:"flex"},Pl=W({__name:"Address",props:{modelValue:{required:!0},modelModifiers:{}},emits:Fe(["remove"],["update:modelValue"]),setup(e){const{addressOptions:u}=Ie(),l=Le(e,"modelValue");return(o,t)=>{const i=ye,n=_e,a=Ce,p=De,m=Me;return D(),K("div",Dl,[k(p,{class:"w-full"},{default:q(()=>[k(n,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),options:L(u),class:"w-36"},{label:q(()=>[k(i,{name:l.value.icon},null,8,["name"]),Z(" "+H(l.value.label),1)]),option:q(({option:r})=>[k(i,{name:r.icon,class:"text-slate-400"},null,8,["name"]),Z(" "+H(r.label),1)]),_:1},8,["modelValue","options"]),k(a,{modelValue:e.modelValue.value,"onUpdate:modelValue":t[1]||(t[1]=r=>e.modelValue.value=r),modelModifiers:{number:!0},placeholder:o.$t("qrcode.contact.address.value"),class:"col-start-2 col-span-3 w-full",type:"tel"},null,8,["modelValue","placeholder"])]),_:1}),k(m,{icon:"i-ph-trash-duotone",variant:"ghost",size:"2xs",color:"rose",onClick:t[2]||(t[2]=r=>o.$emit("remove"))})])}}}),zl={class:"screen-reader-only"},Fl={class:"sm:grid grid-cols-4 space-y-1"},Ll={class:"text-sm font-medium leading-8 self-start"},Bl={class:"col-start-2 col-span-3 space-y-4"},_l={class:"sm:grid grid-cols-4 items-center space-y-1"},Nl={class:"text-sm font-medium"},jl={class:"sm:grid grid-cols-4 items-center space-y-1"},ql={class:"text-sm font-medium"},Ul={class:"col-start-2 col-span-3 grid grid-cols-2 gap-x-4"},Hl={class:"sm:grid grid-cols-4 space-y-1"},Kl={class:"text-sm font-medium leading-8 self-start"},Wl={class:"col-start-2 col-span-3 space-y-4"},Xl=W({__name:"contact",setup(e){const{telephoneFormInitValue:u,emailFormInitValue:l,addressFormInitValue:o}=Ie(),t=Ye({fullName:"",telephones:[u()],emails:[l()],website:"",company:"",position:"",addresses:[o()]});function i(){var b;(b=t.telephones.at(-1))!=null&&b.value&&t.telephones.push(u())}function n(b){t.telephones.splice(b,1)}function a(){var b;(b=t.addresses.at(-1))!=null&&b.value&&t.addresses.push(o())}function p(b){t.addresses.splice(b,1)}function m(){var b;(b=t.emails.at(-1))!=null&&b.value&&t.emails.push(l())}function r(b){t.emails.splice(b,1)}const d=g(()=>{if(Object.values(t).every(R=>typeof R=="string"&&R.trim()===""||Array.isArray(R)&&R.every(y=>y.value==="")))return"";const C=[];return t.fullName&&C.push(`FN:${t.fullName}`),t.website&&C.push(`URL:${t.website}`),t.company&&C.push(`ORG:${t.company}`),t.position&&C.push(`TITLE:${t.position}`),C.push(t.telephones.filter(R=>R.value).map(R=>`TEL;TYPE=${R.code}:${R.value}`).join(`
`)),C.push(t.emails.filter(R=>R.value).map(R=>`EMAIL;TYPE=${R.code}:${R.value}`).join(`
`)),C.push(t.addresses.filter(R=>R.value).map(R=>`ADR;TYPE=${R.code}:;;;;;;${R.value}`).join(`
`)),`BEGIN:VCARD
VERSION:4.0
${C.join(`
`)}
END:VCARD`}),{t:f}=_t(),M=g(()=>f("qrcode.tabs.contact")+" "+f("index.qrcode.title"));return Nt({title:M,meta:[{name:"description",content:f("index.qrcode.description")}]}),(b,C)=>{const R=Ce,y=gt,w=$l,v=Me,s=Al,O=Pl,S=ht;return D(),J(S,{text:L(d)},{default:q(()=>[N("h1",zl,H(L(M)),1),k(y,{label:b.$t("qrcode.contact.name.label")},{default:q(()=>[k(R,{modelValue:L(t).fullName,"onUpdate:modelValue":C[0]||(C[0]=I=>L(t).fullName=I),placeholder:b.$t("qrcode.contact.name.value")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),k(y,{label:b.$t("qrcode.contact.telephone")},{default:q(()=>[(D(!0),K(re,null,xe(L(t).telephones,(I,c)=>(D(),J(w,{key:I.code,modelValue:L(t).telephones[c],"onUpdate:modelValue":$=>L(t).telephones[c]=$,onRemove:$=>n(c)},null,8,["modelValue","onUpdate:modelValue","onRemove"]))),128)),N("div",null,[k(v,{"leading-icon":"i-ph-plus-bold",size:"2xs",onClick:i},{default:q(()=>[Z(H(b.$t("qrcode.contact.add")),1)]),_:1})])]),_:1},8,["label"]),N("div",Fl,[N("span",Ll,H(b.$t("qrcode.contact.email")),1),N("div",Bl,[(D(!0),K(re,null,xe(L(t).emails,(I,c)=>(D(),J(s,{key:I.code,modelValue:L(t).emails[c],"onUpdate:modelValue":$=>L(t).emails[c]=$,onRemove:$=>r(c)},null,8,["modelValue","onUpdate:modelValue","onRemove"]))),128)),N("div",null,[k(v,{"leading-icon":"i-ph-plus-bold",size:"2xs",onClick:m},{default:q(()=>[Z(H(b.$t("qrcode.contact.add")),1)]),_:1})])])]),N("div",_l,[N("span",Nl,H(b.$t("qrcode.contact.website")),1),k(R,{modelValue:L(t).website,"onUpdate:modelValue":C[1]||(C[1]=I=>L(t).website=I),class:"col-start-2 col-span-3",placeholder:"https://example.com"},null,8,["modelValue"])]),N("div",jl,[N("span",ql,H(b.$t("qrcode.contact.company.label")),1),N("div",Ul,[k(R,{modelValue:L(t).company,"onUpdate:modelValue":C[2]||(C[2]=I=>L(t).company=I),placeholder:b.$t("qrcode.contact.company.name")},null,8,["modelValue","placeholder"]),k(R,{modelValue:L(t).position,"onUpdate:modelValue":C[3]||(C[3]=I=>L(t).position=I),placeholder:b.$t("qrcode.contact.company.position")},null,8,["modelValue","placeholder"])])]),N("div",Hl,[N("span",Kl,H(b.$t("qrcode.contact.address.label")),1),N("div",Wl,[(D(!0),K(re,null,xe(L(t).addresses,(I,c)=>(D(),J(O,{key:I.code,modelValue:L(t).addresses[c],"onUpdate:modelValue":$=>L(t).addresses[c]=$,onRemove:$=>p(c)},null,8,["modelValue","onUpdate:modelValue","onRemove"]))),128)),N("div",null,[k(v,{"leading-icon":"i-ph-plus-bold",size:"2xs",onClick:a},{default:q(()=>[Z(H(b.$t("qrcode.contact.add")),1)]),_:1})])])])]),_:1},8,["text"])}}});export{Xl as default};
